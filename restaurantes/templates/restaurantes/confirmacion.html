{% extends 'base.html' %}

{% block title %}ConfirmaciÃ³n de Reserva{% endblock %}

{% block content %}
<div class="container-fluid mt-5 p-4">
  <div class="card shadow-lg border-0 p-5">
    <div class="text-center">
      <h2 class="text-success fw-bold mb-3">âœ… Â¡Tu reservaciÃ³n fue exitosa!</h2>
      <p class="text-muted">AquÃ­ tienes los detalles de tu cita. GuÃ¡rdalos o mÃ¡ndalos por WhatsApp por si las dudas:</p>
    </div>

    <ul class="list-group list-group-flush my-4">
      <li class="list-group-item"><strong>ğŸ¨ Restaurante:</strong> {{ cita.restaurante.nombre }}</li>
      <li class="list-group-item"><strong>ğŸ“ DirecciÃ³n:</strong> {{ cita.restaurante.direccion }}</li>
      <li class="list-group-item"><strong>ğŸ™‹ Cliente:</strong> {{ cita.nombre_cliente }}</li>
      <li class="list-group-item"><strong>ğŸ“ TelÃ©fono:</strong> {{ cita.telefono }}</li>
      <li class="list-group-item"><strong>ğŸª‘ Mesa:</strong> {{ cita.mesa.numero_mesa }}</li>
      <li class="list-group-item"><strong>ğŸ“… Fecha:</strong> {{ cita.fecha }}</li>
      <li class="list-group-item"><strong>â° Hora:</strong> {{ cita.hora }}</li>
    </ul>

    <div class="text-center mt-4">
      <a href="{% url 'detalle_restaurante' cita.restaurante.slug %}" class="btn btn-outline-primary me-2">
        ğŸ”™ Volver al restaurante
      </a>

      <a href="https://wa.me/52{{ cita.telefono|cut:'-'|cut:' ' }}?text={{ 
        'Hola ' |add:cita.nombre_cliente|add:', tu reserva en ' 
        |add:cita.restaurante.nombre|add:' estÃ¡ confirmada para el ' 
        |add:cita.fecha|stringformat:"s"|add:' a las ' 
        |add:cita.hora|stringformat:"s"|add:' hrs. Mesa ' 
        |add:cita.mesa.numero_mesa|stringformat:"s"|add:'. Â¡Gracias!' 
        |urlencode 
      }}" 
      target="_blank" class="btn btn-success">
        ğŸ“² Enviar por WhatsApp
      </a>
    </div>
  </div>
</div>
{% endblock %}
