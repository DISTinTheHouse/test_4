{% extends "base.html" %}
{% load static %}

{% block title %}Bienvenido a Restaurantes QR{% endblock %}

{% block content %}

<div class="container-fluid mt-3">
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" id="logout-alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
      </div>
    {% endfor %}
  {% endif %}
</div>

<script>
  setTimeout(() => {
    const alert = document.getElementById('logout-alert');
    if (alert) {
      alert.classList.remove('show');
      alert.classList.add('fade');
    }
  }, 7000);
</script>


<!-- HERO VISUAL PREMIUM -->
<section class="container-fluid d-flex align-items-center justify-content-center text-center" style="min-height: 100vh; padding: 100px 0;">
  <div class="container">
    <h1 class="display-4 fw-bold mb-4">Encuentra y reserva en los mejores restaurantes</h1>
    <p class="fs-5 text-muted mb-4">Explora una selección premium de lugares gastronómicos listos para agendar.</p>
    <a href="#restaurantes" class="btn btn-lg btn-danger px-5 py-3 shadow-sm">Ver Restaurantes</a>
  </div>
</section>

<!-- CARRUSEL DE LOGOS DE CONFIANZA -->
<section class="container-fluid py-5 bg-white border-top border-bottom">
  <div class="container text-center">
    <p class="text-muted mb-4">Con la confianza de restaurantes reconocidos</p>
    <div id="logosCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="d-flex justify-content-around align-items-center flex-wrap gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732229.png" height="50" alt="Logo 1">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" height="50" alt="Logo 2">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732217.png" height="50" alt="Logo 3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732212.png" height="50" alt="Logo 4">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732228.png" height="50" alt="Logo 5">
          </div>
        </div>
        <div class="carousel-item">
          <div class="d-flex justify-content-around align-items-center flex-wrap gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732245.png" height="50" alt="Logo 6">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732259.png" height="50" alt="Logo 7">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732260.png" height="50" alt="Logo 8">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732276.png" height="50" alt="Logo 9">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732278.png" height="50" alt="Logo 10">
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SECCIÓN 1: Tabla de Restaurantes -->
<section id="restaurantes" class="container-fluid py-5" style="background-color: #f9f9f9;">
  <div class="container-fluid">
    <div class="text-center mb-5 p-5">
      <span class="badge bg-success fs-6 px-3 py-2 mb-2">Explora y Agenda</span>
      <h2 class="display-6 fw-bold">📋 Restaurantes Disponibles</h2>
      <p class="text-muted">Conoce los restaurantes activos y agenda tu visita fácilmente.</p>
    </div>

    <div class="card rounded-5 shadow-sm overflow-hidden" style="background: linear-gradient(135deg, #f5fff9, #eef8f6);">
      <div class="table-responsive">
        <table class="table table-hover table-primary align-middle mb-0">
          <thead class="table-dark">
            <tr class="text-center">
              <th scope="col">Nombre</th>
              <th scope="col">Dirección</th>
              <th scope="col">Teléfono</th>
              <th scope="col">Acción</th>
            </tr>
          </thead>
          <tbody>
            {% for restaurante in restaurantes %}
            <tr class="text-center">
              <td class="fw-semibold">
                🍴 {{ restaurante.nombre }}
              </td>
              <td>{{ restaurante.direccion|default:"Sin dirección" }}</td>
              <td>{{ restaurante.telefono|default:"N/A" }}</td>
              <td>
                <a href="{% url 'detalle_restaurante' restaurante.slug %}" class="btn btn-primary text-white btn-sm rounded-pill px-3">Agendar</a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" class="text-center text-muted">No hay restaurantes registrados todavía.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<!-- SECCIÓN 2: Invitación a Socios -->
<section class="container-fluid py-5" style="background-color: #f8f9fb;">
  <div class="container d-flex justify-content-center">
    <div class="card border-0 shadow-lg p-5 rounded-5 text-white"
         style="max-width: 1100px; width: 100%;
                background: linear-gradient(135deg, #34e89e, #0f3443);">
      <div class="row align-items-center g-4">
        <div class="col-lg-6 text-center">
          <img src="{% static 'img/restaurante-digital.svg' %}" class="img-fluid rounded-4 w-75" alt="Digitaliza tu restaurante">
        </div>
        <div class="col-lg-6">
          <h2 class="fw-bold mb-4 display-6">¿Tienes un restaurante?</h2>
          <p class="fs-5 mb-4">
            Regístrate en <strong>QResto</strong> y comienza a recibir pedidos desde cualquier dispositivo. Digitaliza tu menú, gana visibilidad y moderniza la experiencia de tus clientes.
          </p>
          <a href="{% url 'registro' %}" class="btn btn-light btn-lg rounded-pill px-5 shadow-sm text-dark">
            🚀 Registrarme como Socio
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="container-fluid border-top py-4" style="background-color: #f9fafb;">
  <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center text-muted small">
    <div class="mb-2 mb-md-0 text-center text-md-start">
      © {{ now|date:"Y" }} <strong>QResto</strong> · Todos los derechos reservados.
    </div>
    <div class="text-center text-md-end">
      <a href="#" class="text-decoration-none me-3 link-secondary">Política de Privacidad</a>
      <a href="#" class="text-decoration-none link-secondary">Términos de Uso</a>
    </div>
  </div>
</footer>

{% endblock %}