{% extends "base.html" %}
{% load static %}

{% block title %}Bienvenido a Restaurantes QR{% endblock %}

{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;700&display=swap" rel="stylesheet">

<style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: white;
    }
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .hero-container {
      position: relative;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      overflow: hidden;
      z-index: 1;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      color: #333;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 900;
      /* #172a3a */
      background: linear-gradient(to right, #004346, #036666, #14746f, #248277, #358f80, #469d89, #56ab91, #67b99a, #78c6a3, #88d4ab, #99e2b4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.2;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .fuente {
      font-family: 'Sora', sans-serif;
    }

    .fuente-2 {
      font-family: 'Orbitron', sans-serif;
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: 6rem;
      }
    }
</style>

<div class="container-fluid mt-3">
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" id="logout-alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
      </div>
    {% endfor %}
  {% endif %}
</div>
<script>
  setTimeout(() => {
    const alert = document.getElementById('logout-alert');
    if (alert) {
      alert.classList.remove('show');
      alert.classList.add('fade');
    }
  }, 7000);
</script>

<section class="hero-container">
    <div id="particles-js"></div>
    <div class="hero-content container">
      <h1 class="hero-title">SIN MESERO</h1>
      <p class="mt-4 fs-5 text-secondary fuente">
        T√∫ decides, el QR lo lleva. Simplemente‚Ä¶ sabor sin interrupciones.
      </p>
    </div>
</section>

<!-- CARRUSEL DE LOGOS DE CONFIANZA -->
<section class="container-fluid py-5 bg-white">
  <div class="container text-center">
    <p class="text-muted mb-5 fuente">Con la confianza de restaurantes reconocidos</p>
    <div id="logosCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="d-flex justify-content-around align-items-center flex-wrap gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732229.png" height="50" alt="Logo 1">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" height="50" alt="Logo 2">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732217.png" height="50" alt="Logo 3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732212.png" height="50" alt="Logo 4">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732228.png" height="50" alt="Logo 5">
          </div>
        </div>
        <div class="carousel-item">
          <div class="d-flex justify-content-around align-items-center flex-wrap gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732245.png" height="50" alt="Logo 6">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732259.png" height="50" alt="Logo 7">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732260.png" height="50" alt="Logo 8">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732276.png" height="50" alt="Logo 9">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732278.png" height="50" alt="Logo 10">
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="wave-section" style="width: 100%; overflow: hidden; background-color: white;">
  <svg id="visual" viewBox="0 300 900 300" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
      <path id="wave-morph" d="M0 432L21.5 422.3C43 412.7 86 393.3 128.8 384.3C171.7 375.3 214.3 376.7 257.2 373.5C300 370.3 343 362.7 385.8 361.8C428.7 361 471.3 367 514.2 377.8C557 388.7 600 404.3 642.8 408C685.7 411.7 728.3 403.3 771.2 407.5C814 411.7 857 428.3 878.5 436.7L900 445L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z" fill="#99e2b4"></path>
      <path id="wave-morph" d="M0 458L21.5 450.8C43 443.7 86 429.3 128.8 428.2C171.7 427 214.3 439 257.2 449.5C300 460 343 469 385.8 468.8C428.7 468.7 471.3 459.3 514.2 450.5C557 441.7 600 433.3 642.8 428.5C685.7 423.7 728.3 422.3 771.2 430.7C814 439 857 457 878.5 466L900 475L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z" fill="#73c2a2"></path>
      <path id="wave-morph" d="M0 493L21.5 487.3C43 481.7 86 470.3 128.8 465.5C171.7 460.7 214.3 462.3 257.2 466.7C300 471 343 478 385.8 482.3C428.7 486.7 471.3 488.3 514.2 488.2C557 488 600 486 642.8 479.2C685.7 472.3 728.3 460.7 771.2 453.5C814 446.3 857 443.7 878.5 442.3L900 441L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z" fill="#4fa38f"></path>
      <path d="M0 499L21.5 501.5C43 504 86 509 128.8 511.7C171.7 514.3 214.3 514.7 257.2 512.5C300 510.3 343 505.7 385.8 509.8C428.7 514 471.3 527 514.2 529C557 531 600 522 642.8 512.3C685.7 502.7 728.3 492.3 771.2 493.2C814 494 857 506 878.5 512L900 518L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z" fill="#2d847b"></path>
      <path d="M0 534L21.5 536.5C43 539 86 544 128.8 542.5C171.7 541 214.3 533 257.2 530.2C300 527.3 343 529.7 385.8 537.7C428.7 545.7 471.3 559.3 514.2 565.2C557 571 600 569 642.8 562C685.7 555 728.3 543 771.2 539C814 535 857 539 878.5 541L900 543L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z" fill="#036666"></path>
  </svg>
</section>

<!-- SECCI√ìN 1: Tabla de Restaurantes -->
<section id="restaurantes" class="container-fluid" style="background-color: #036666;">
  <div class="container-fluid">
    <div class="text-center mb-5 p-5">
      <span class="badge bg-warning fs-5 px-3 py-4 mb-5 fuente">Explora y Agenda</span>
      <h2 class="display-3 fw-bold mt-5 fuente-2 text-white">üìã Restaurantes Disponibles</h2>
      <p class="fuente" style="color: #12232a;">Conoce los restaurantes activos y agenda tu visita f√°cilmente.</p>
    </div>

    <div class="card rounded-5 shadow-sm overflow-hidden mb-5" style="background: linear-gradient(135deg, #f5fff9, #eef8f6);">
      <div class="table-responsive">
        <table class="table table-hover table-success align-middle mb-0 fuente">
          <thead class="table-success">
            <tr class="text-center">
              <th scope="col">Nombre</th>
              <th scope="col">Direcci√≥n</th>
              <th scope="col">Tel√©fono</th>
              <th scope="col">Agendar</th>
            </tr>
          </thead>
          <tbody>
            {% for restaurante in restaurantes %}
            <tr class="text-center">
              <td class="fw-semibold">
                üç¥ {{ restaurante.nombre }}
              </td>
              <td>{{ restaurante.direccion|default:"Sin direcci√≥n" }}</td>
              <td>{{ restaurante.telefono|default:"N/A" }}</td>
              <td>
                <a href="{% url 'detalle_restaurante' restaurante.slug %}" class="btn btn-dark text-white btn-sm rounded-pill px-3">Agendar</a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" class="text-center text-muted">No hay restaurantes registrados todav√≠a.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<!-- SECCI√ìN 2: Invitaci√≥n a Socios -->
<section class="container-fluid py-5" style="background-color: #036666;">
  <div class="container d-flex justify-content-center">
    <div class="card border-0 shadow-lg p-5 rounded-5 text-white"
         style="max-width: 1100px; width: 100%;
                background: linear-gradient(135deg, #99e2b4, #036666);">
      <div class="row align-items-center g-4">
        <div class="col-lg-6 text-center">
          <img src="{% static 'img/restaurante-digital.svg' %}" class="img-fluid rounded-4 w-75" alt="Digitaliza tu restaurante">
        </div>
        <div class="col-lg-6">
          <h2 class="fw-bold mb-4 display-6 fuente">¬øTienes un restaurante?</h2>
          <p class="fs-5 mb-4 fuente">
            Reg√≠strate en <strong>QResto</strong> y comienza a recibir pedidos desde cualquier dispositivo. Digitaliza tu men√∫, gana visibilidad y moderniza la experiencia de tus clientes.
          </p>
          <a href="{% url 'registro' %}" class="fuente btn btn-warning btn-lg rounded-pill px-5 shadow-sm text-dark">
            üöÄ Registrarme como Socio
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="container-fluid border-top py-4" style="background-color: #036666;">
  <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center small">
    <div class="mb-2 mb-md-0 text-center text-md-start fuente-2 text-white">
       <strong>¬© {{ now|date:"Y" }} SIN MESERO</strong> ¬∑ Todos los derechos reservados.
    </div>
    <div class="text-center text-md-end">
      <a href="#" class="text-decoration-none me-3 fuente" style="color: #12232a;">Pol√≠tica de Privacidad</a>
      <a href="#" class="text-decoration-none fuente" style="color: #12232a;">T√©rminos de Uso</a>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"
integrity="sha512-Kef5sc7gfTacR7TZKelcrRs15ipf7+t+n7Zh6mKNJbmW+/RRdCW9nwfLn4YX0s2nO6Kv5Y2ChqgIakaC6PW09A==" crossorigin="anonymous"
referrerpolicy="no-referrer"></script>

<script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 100, "density": { "enable": true, "value_area": 900 } },
        "color": { "value": "#000" },
        "shape": {
          "type": "circle",
          "stroke": { "width": 0, "color": "#000000" },
          "polygon": { "nb_sides": 5 }
        },
        "opacity": { "value": 0.25, "random": false },
        "size": { "value": 3, "random": true },
        "line_linked": {
          "enable": true,
          "distance": 150,
          "color": "#000",
          "opacity": 0.2,
          "width": 1
        },
        "move": {
          "enable": true,
          "speed": 0.9,
          "direction": "none",
          "random": false,
          "straight": false,
          "out_mode": "out",
          "bounce": false
        }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": { "enable": true, "mode": "repulse" },
          "onclick": { "enable": true, "mode": "push" },
          "resize": true
        },
        "modes": {
          "repulse": { "distance": 100, "duration": 1.2 },
          "push": { "particles_nb": 4 }
        }
      },
      "retina_detect": true
    });
</script>

<script>
    const wave1 = "M0 432L21.5 422.3C43 412.7 86 393.3 128.8 384.3C171.7 375.3 214.3 376.7 257.2 373.5C300 370.3 343 362.7 385.8 361.8C428.7 361 471.3 367 514.2 377.8C557 388.7 600 404.3 642.8 408C685.7 411.7 728.3 403.3 771.2 407.5C814 411.7 857 428.3 878.5 436.7L900 445L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z";
    const wave2 = "M0 458L21.5 450.8C43 443.7 86 429.3 128.8 428.2C171.7 427 214.3 439 257.2 449.5C300 460 343 469 385.8 468.8C428.7 468.7 471.3 459.3 514.2 450.5C557 441.7 600 433.3 642.8 428.5C685.7 423.7 728.3 422.3 771.2 430.7C814 439 857 457 878.5 466L900 475L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z";
    const wave3 = "M0 493L21.5 487.3C43 481.7 86 470.3 128.8 465.5C171.7 460.7 214.3 462.3 257.2 466.7C300 471 343 478 385.8 482.3C428.7 486.7 471.3 488.3 514.2 488.2C557 488 600 486 642.8 479.2C685.7 472.3 728.3 460.7 771.2 453.5C814 446.3 857 443.7 878.5 442.3L900 441L900 601L878.5 601C857 601 814 601 771.2 601C728.3 601 685.7 601 642.8 601C600 601 557 601 514.2 601C471.3 601 428.7 601 385.8 601C343 601 300 601 257.2 601C214.3 601 171.7 601 128.8 601C86 601 43 601 21.5 601L0 601Z";

    const paths = [wave1, wave2, wave3, wave2, wave1];
    let current = 0;

    function animateWave() {
    anime({
        targets: "#wave-morph",
        d: [{ value: paths[(current + 1) % paths.length] }],
        easing: "easeInOutQuad",
        duration: 8000,
        direction: "alternate",
        loop: true,
        complete: () => {
        current = (current + 1) % paths.length;
        setTimeout(animateWave, 1000); 
        }
    });
    }

    animateWave();

</script>
{% endblock %}